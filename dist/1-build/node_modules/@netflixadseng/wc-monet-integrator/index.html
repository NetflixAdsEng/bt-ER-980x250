<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script type="text/javascript">
      
			/* prettier-ignore */
			

    </script>
    <!-- prettier-ignore -->

    <!-- prettier-ignore -->

    <script type="text/javascript">
			/* prettier-ignore */
			
window.Utils = window.Utils || {}

Utils.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

Utils.isiOS    = /iPad|iPhone|iPod/.test(navigator.userAgent);
Utils.isiOS9up = Utils.isiOS && ((navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/)[1] > 9);
Utils.isiPad   = /iPad/.test(navigator.userAgent);
Utils.isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);window.Utils = window.Utils || {}
Utils.SvgIcon = function(id, path, color) {
	var i = document.createElementNS("http://www.w3.org/2000/svg", "path");
	i.setAttributeNS(null, "d", path);
	i.setAttribute("data-original", path);
	if (color != undefined) {
		i.setAttribute('fill', color);
	}
	i.setAttribute("class", id || "");
	return i;
};if("document"in self){if(!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){(function(t){"use strict";if(!("Element"in t))return;var e="classList",i="prototype",n=t.Element[i],s=Object,r=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[i].indexOf||function(t){var e=0,i=this.length;for(;e<i;e++){if(e in this&&this[e]===t){return e}}return-1},o=function(t,e){this.name=t;this.code=DOMException[t];this.message=e},l=function(t,e){if(e===""){throw new o("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(e)){throw new o("INVALID_CHARACTER_ERR","String contains an invalid character")}return a.call(t,e)},c=function(t){var e=r.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,s=i.length;for(;n<s;n++){this.push(i[n])}this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[i]=[],f=function(){return new c(this)};o[i]=Error[i];u.item=function(t){return this[t]||null};u.contains=function(t){t+="";return l(this,t)!==-1};u.add=function(){var t=arguments,e=0,i=t.length,n,s=false;do{n=t[e]+"";if(l(this,n)===-1){this.push(n);s=true}}while(++e<i);if(s){this._updateClassName()}};u.remove=function(){var t=arguments,e=0,i=t.length,n,s=false,r;do{n=t[e]+"";r=l(this,n);while(r!==-1){this.splice(r,1);s=true;r=l(this,n)}}while(++e<i);if(s){this._updateClassName()}};u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?e!==true&&"remove":e!==false&&"add";if(n){this[n](t)}if(e===true||e===false){return e}else{return!i}};u.toString=function(){return this.join(" ")};if(s.defineProperty){var h={get:f,enumerable:true,configurable:true};try{s.defineProperty(n,e,h)}catch(d){if(d.number===-2146823252){h.enumerable=false;s.defineProperty(n,e,h)}}}else if(s[i].__defineGetter__){n.__defineGetter__(e,f)}})(self)}else{(function(){"use strict";var t=document.createElement("_");t.classList.add("c1","c2");if(!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++){t=arguments[i];e.call(this,t)}}};e("add");e("remove")}t.classList.toggle("c3",false);if(t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){if(1 in arguments&&!this.contains(t)===!e){return e}else{return i.call(this,t)}}}t=null})()}}// Custom event polyfill for IE
(function () {
	if (typeof window.CustomEvent === 'function') {
		return;
	}

	function CustomEvent (event, params) {
		params = params || { bubbles: false, cancelable: false, detail: void 0 };

		var evt = document.createEvent('CustomEvent');
		evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
		return evt;
	}

	CustomEvent.prototype = window.Event.prototype;
	window.CustomEvent = CustomEvent;
})();// v7.1.0 - https://github.com/taylorhakes/promise-polyfill/blob/master/dist/polyfill.min.js
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){"use strict";function e(){}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this)}function t(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(f){return void r(t.promise,f)}o(t.promise,i)}else(1===e._state?o:r)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void i(e);if("function"==typeof o)return void f(function(e,n){return function(){e.apply(n,arguments)}}(o,t),e)}e._state=1,e._value=t,i(e)}catch(u){r(e,u)}}function r(e,n){e._state=2,e._value=n,i(e)}function i(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var o=0,r=e._deferreds.length;r>o;o++)t(e,e._deferreds[o]);e._deferreds=null}function f(e,n){var t=!1;try{e(function(e){t||(t=!0,o(n,e))},function(e){t||(t=!0,r(n,e))})}catch(i){if(t)return;t=!0,r(n,i)}}var u=setTimeout;n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(n,o){var r=new this.constructor(e);return t(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(n,o,r)),r},n.prototype["finally"]=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},n.all=function(e){return new n(function(n,t){function o(e,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.call(f,function(n){o(e,n)},t)}r[e]=f,0==--i&&n(r)}catch(c){t(c)}}if(!e||"undefined"==typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);for(var i=r.length,f=0;r.length>f;f++)o(f,r[f])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(n){n(e)})},n.reject=function(e){return new n(function(n,t){t(e)})},n.race=function(e){return new n(function(n,t){for(var o=0,r=e.length;r>o;o++)e[o].then(n,t)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){u(e,0)},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var c=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==c)return c;throw Error("unable to locate global object")}();c.Promise||(c.Promise=n)});
"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])}return n},writable:!0,configurable:!0});window.Utils = window.Utils || {};
Utils.createStyle = function(nodeId, styles) {
  var id = nodeId + '-component-stylesheet';
  var stylesheet = document.getElementById(id) || this.stylesheet;
  if (!stylesheet) {
    stylesheet = document.createElement('style');
    stylesheet.type = 'text/css';
    stylesheet.id = id;
    this.appendChild(stylesheet);
  }
  var str = stylesheet.innerHTML;

  for (var i = 0; i < arguments.length - 1; i += 2) {
    // if we want the value to be directly applied to the node
    // eg. 'netflix-video.hide' vs 'netflix-video .hide'
    // check if the first value in a pair is an array
    // then use the first value as the key, the second as the boolean
    var nameArg = arguments[i + 1];
    var space = ' ';
    if (Array.isArray(nameArg)) {
      if (nameArg[1] === true) space = '';
      nameArg = nameArg[0];
    }

    // strip out the white space after comma
    var names = nameArg.replace(/\,\s+/g, ',');

    str += nodeId + space;
    str += names;
    str += ' { ' + (arguments[i + 2] || '') + ' }\n';
  }

  stylesheet.innerHTML = str;
  this.stylesheet = stylesheet;
};
window.Utils=window.Utils||{};Utils.textFit=function(){"use strict";var defaultSettings={alignVert:false,alignHoriz:false,multiLine:false,detectMultiLine:true,minFontSize:6,maxFontSize:80,reProcess:true,widthOnly:false,alignVertWithFlexbox:false};return function textFit(els,options){if(!options)options={};var settings={};for(var key in defaultSettings){if(options.hasOwnProperty(key)){settings[key]=options[key]}else{settings[key]=defaultSettings[key]}}if(typeof els.toArray==="function"){els=els.toArray()}var elType=Object.prototype.toString.call(els);if(elType!=="[object Array]"&&elType!=="[object NodeList]"&&elType!=="[object HTMLCollection]"){els=[els]}for(var i=0;i<els.length;i++){processItem(els[i],settings)}};function processItem(el,settings){if(!isElement(el)||!settings.reProcess&&el.getAttribute("textFitted")){return false}if(!settings.reProcess){el.setAttribute("textFitted",1)}var innerSpan,originalHeight,originalHTML,originalWidth;var low,mid,high;originalHTML=el.innerHTML;originalWidth=innerWidth(el);originalHeight=innerHeight(el);if(!originalWidth||!settings.widthOnly&&!originalHeight){if(!settings.widthOnly)throw new Error("Set a static height and width on the target element "+el.outerHTML+" before using textFit!");else throw new Error("Set a static width on the target element "+el.outerHTML+" before using textFit!")}if(originalHTML.indexOf("textFitted")===-1){innerSpan=document.createElement("span");innerSpan.className="textFitted";innerSpan.style["display"]="inline-block";innerSpan.innerHTML=originalHTML;el.innerHTML="";el.appendChild(innerSpan)}else{innerSpan=el.querySelector("span.textFitted");if(hasClass(innerSpan,"textFitAlignVert")){innerSpan.className=innerSpan.className.replace("textFitAlignVert","");innerSpan.style["height"]="";el.className.replace("textFitAlignVertFlex","")}}if(settings.alignHoriz){el.style["text-align"]="center";innerSpan.style["text-align"]="center"}var multiLine=settings.multiLine;if(settings.detectMultiLine&&!multiLine&&innerSpan.scrollHeight>=parseInt(window.getComputedStyle(innerSpan)["font-size"],10)*2){multiLine=true}if(!multiLine){el.style["white-space"]="nowrap"}low=settings.minFontSize+1;high=settings.maxFontSize+1;while(low<=high){mid=parseInt((low+high)/2,10);innerSpan.style.fontSize=mid+"px";if(innerSpan.scrollWidth<=originalWidth&&(settings.widthOnly||innerSpan.scrollHeight<=originalHeight)){low=mid+1}else{high=mid-1}}innerSpan.style.fontSize=mid-1+"px";if(settings.alignVert){addStyleSheet();if(!hasClass(innerSpan,"textFitAlignHoriz")){innerSpan.className=innerSpan.className+" textFitAlignHoriz"}var height=innerSpan.scrollHeight;if(window.getComputedStyle(el)["position"]==="static"){el.style["position"]="relative"}if(!hasClass(innerSpan,"textFitAlignVert")){innerSpan.className=innerSpan.className+" textFitAlignVert"}innerSpan.style["height"]=height+"px";if(settings.alignVertWithFlexbox&&!hasClass(el,"textFitAlignVertFlex")){el.className=el.className+" textFitAlignVertFlex"}}}function innerHeight(el){var style=window.getComputedStyle(el,null);return el.clientHeight-parseInt(style.getPropertyValue("padding-top"),10)-parseInt(style.getPropertyValue("padding-bottom"),10)}function innerWidth(el){var style=window.getComputedStyle(el,null);return el.clientWidth-parseInt(style.getPropertyValue("padding-left"),10)-parseInt(style.getPropertyValue("padding-right"),10)}function isElement(o){return typeof HTMLElement==="object"?o instanceof HTMLElement:o&&typeof o==="object"&&o!==null&&o.nodeType===1&&typeof o.nodeName==="string"}function hasClass(element,cls){return(" "+element.className+" ").indexOf(" "+cls+" ")>-1}function addStyleSheet(){if(document.getElementById("textFitStyleSheet"))return;var style=[".textFitAlignVert{","position: absolute;","top: 0; right: 0; bottom: 0; left: 0;","margin: auto;","display: flex;","justify-content: center;","flex-direction: column;","}",".textFitAlignHoriz{","position: absolute;","top: 0; right: 0;","margin: auto;","}",".textFitAlignVertFlex{","display: flex;","}",".textFitAlignVertFlex .textFitAlignVert{","position: static;","}"].join("");var css=document.createElement("style");css.type="text/css";css.id="textFitStyleSheet";css.innerHTML=style;document.body.appendChild(css)}}();!(function() {
  /**
   * Network
   *
   *
   *
   */

  // deprecated
  function chooseExitURL(desktopExitURL, iosExitURL, androidExitURL) {
    var exitURL = null;
    if (Utils.isMobile) {
      exitURL = Utils.isiOS ? iosExitURL : androidExitURL;
    }
    return exitURL || desktopExitURL;
  }

  function doHTTPRequest(url) {
    return new Promise(function(resolve, reject) {
      var xhr = new XMLHttpRequest();
      xhr.addEventListener('load', function() {
        if (xhr.status >= 200 && xhr.status < 300) {
          resolve(xhr.response);
          return;
        }
        var errorMessage = 'Failed to load ' + url + ' [' + xhr.status + ']' + xhr.responseText;
        reject(new Error(errorMessage));
      });
      xhr.addEventListener('error', function(errorEvent) {
        var message = 'Error in loading ' + url;
        reject(errorEvent.error || new Error(message));
      });
      xhr.open('GET', url);
      xhr.send();
    });
  }

  function listenForLoad(target) {
    return new Promise(function(resolve, reject) {
      var onLoad = null;
      var onError = null;
      var onDone = function() {
        target.removeEventListener('load', onLoad);
        target.removeEventListener('error', onError);
      };
      onLoad = function() {
        onDone();
        resolve(null);
      };
      onError = function(event) {
        onDone();
        reject(event.error);
      };
      target.addEventListener('load', onLoad);
      target.addEventListener('error', onError);
    });
  }

  /**
   * Utility
   *
   *
   *
   */
  function log(level) {
    if (!!window.Enabler && Enabler.isServingInLiveEnvironment() && level !== 'error') {
      return;
    }
    console[level].apply(console, Array.prototype.slice.call(arguments, 1));
  }

  /**
   * ElementCreationObserver
   *
   *
   *
   */
  (function() {
    function elementMatchesSelector(element, selector) {
      if (element.nodeType !== Node.ELEMENT_NODE) {
        return false;
      }
      var matcher =
        element.matches ||
        element.matchesSelector ||
        element.mozMatchesSelector ||
        element.msMatchesSelector ||
        element.oMatchesSelector ||
        element.webkitMatchesSelector;
      if (!matcher) {
        return false;
      }
      return matcher.call(element, selector);
    }

    function ElementCreationObserver() {
      this.mutationObserver = null;
    }

    ElementCreationObserver.prototype.startObserving = function(selectorToObserve, callback) {
      if (!window.MutationObserver || window.MutationObserver._isPolyfilled) {
        var monetElementObserverFunctionName = 'monetElementObserver_' + '_' + Math.floor(Math.random() * 10000);

        window[monetElementObserverFunctionName] = function() {
          var matchingElements = Array.prototype.slice.call(document.querySelectorAll(selectorToObserve));
          if (matchingElements.length > 0) {
            callback(matchingElements);
          }
          window[monetElementObserverFunctionName] = null;
        };

        var scriptSource = 'window.' + monetElementObserverFunctionName + '();';
        var scriptBase64URI = 'data:text/javascript;base64,' + btoa(scriptSource);

        var triggerScript = document.createElement('script');
        triggerScript.setAttribute('type', 'text/javascript');
        triggerScript.setAttribute('src', scriptBase64URI);

        // IE10 behavior on when a dynamic script tag gets executed doesn't
        // seem to be obvious. Scheduling the script to execute at the end
        // of the current event loop seems to be the most reliable way
        // to get the script to execute before web components start to execute.
        setTimeout(function() {
          document.head.appendChild(triggerScript);
        }, 0);
      } else {
        var config = { attributes: false, childList: true, characterData: false, subtree: true };
        this.mutationObserver = new MutationObserver(function(mutations) {
          var matchedNodes = [];

          mutations.forEach(function(mutationRecord) {
            if (mutationRecord.type !== 'childList') {
              return;
            }

            var addedNodes = Array.prototype.slice.call(mutationRecord.addedNodes);
            addedNodes.forEach(function(addedNode) {
              if (addedNode.nodeType !== Node.ELEMENT_NODE) {
                return;
              }
              if (elementMatchesSelector(addedNode, selectorToObserve)) {
                matchedNodes.push(addedNode);
              }
              var subtreeMatches = addedNode.querySelectorAll(selectorToObserve);
              Array.prototype.push.apply(matchedNodes, subtreeMatches);
            });
          });

          if (matchedNodes.length > 0) {
            callback(matchedNodes);
          }
        });
        this.mutationObserver.observe(document, config);
      }
    };

    ElementCreationObserver.prototype.stopObserving = function() {
      if (!!this.mutationObserver) {
        this.mutationObserver.disconnect();
        this.mutationObserver = null;
      }
    };

    return ElementCreationObserver;
  })();

  /**
   * MonetLoader
   *
   *
   *
   */
  var MonetLoader = (function() {
    var MONET_SDK_URL = 'https://ae.nflximg.net/monet/scripts/monet.min.js';
    var ENABLER_URL = 'https://s0.2mdn.net/ads/studio/Enabler.js';

    var monetInitialized = false;
    var scriptURLToLoadPromise = {};

    function loadScript(scriptURL) {
      var script = document.createElement('script');
      var loadPromise = listenForLoad(script);
      script.setAttribute('type', 'text/javascript');
      script.setAttribute('src', scriptURL);
      document.head.appendChild(script);
      return loadPromise;
    }

    function ensureExternalScriptExecuted(scriptURL) {
      var scriptPromise = scriptURLToLoadPromise[scriptURL];
      if (!scriptPromise) {
        scriptPromise = scriptURLToLoadPromise[scriptURL] = loadScript(scriptURL);
      }
      return scriptPromise;
    }

    function ensureMonetSDKInjected() {
      if (!!window.Monet) {
        return Promise.resolve();
      }
      return ensureExternalScriptExecuted(MONET_SDK_URL);
    }

    function ensureEnablerInjected() {
      if (!!window.Enabler) {
        return Promise.resolve();
      }
      return ensureExternalScriptExecuted(ENABLER_URL);
    }

    function ensureEnablerInitialized() {
      if (Enabler.isInitialized()) {
        return Promise.resolve();
      }
      return new Promise(function(resolve, reject) {
        Enabler.addEventListener(studio.events.StudioEvent.INIT, function() {
          resolve();
        });
      });
    }

    function initializeMonet() {
      // Enabler script is typically already injected, no need to parallelize Enabler and
      // monet loading
      return ensureEnablerInjected()
        .then(ensureMonetSDKInjected)
        .then(ensureEnablerInitialized)
        .then(function() {
          if (!monetInitialized) {
            monetInitialized = true;
            Monet.initialize(Enabler);
          }
          return Monet;
        });
    }

    function MonetLoader() {}
    MonetLoader.prototype.getInitialized = function() {
      return initializeMonet();
    };
    return MonetLoader;
  })();

  /**
   * MonetDataProvider
   *
   *
   *
   */
  var MonetDataProvider = (function() {
    function processAssets(monetDataProvider, monetAssets) {
      // assign exit url
      var getExitURLForKey = function(key) {
        return monetAssets.rootAssets[key] && monetAssets.rootAssets[key].url;
      };
      monetAssets.rootAssets['url.Exit_URL'] = {
        type: 'url',
        id: 'Exit_URL',
        url: chooseExitURL(
          getExitURLForKey('url.Exit_URL_Desktop'),
          getExitURLForKey('url.Exit_URL_iOS'),
          getExitURLForKey('url.Exit_URL_Android')
        )
      };
      // apply optional transformations
      monetDataProvider.dataTransformers.forEach(function(transformer) {
        transformer.call(monetDataProvider, monetAssets, monetDataProvider);
      });

      return monetAssets;
    }

    function loadPrimaryAssets(monetDataProvider, monet) {
      if (!monetDataProvider.primaryAssetsPromise) {
        var monetRequestParams = monet.buildMonetRequest();
        monetDataProvider.primaryAssetsPromise = new Promise(function(resolve, reject) {
          monet.load(
            monetRequestParams,
            function(monetAssets) {
              log('info', 'Monet assets loaded:', monetAssets);
              monet.logEvent('MONET_ASSETS_LOADED');
              var processedAssets = processAssets(monetDataProvider, monetAssets);
              resolve(processedAssets);
            },
            function(error) {
              reject(error);
            }
          );
        });
      }
      return monetDataProvider.primaryAssetsPromise;
    }

    function loadBackupAssets(monetDataProvider, monet) {
      if (!monetDataProvider.backupAssetsPromise) {
        monetDataProvider.backupAssetsPromise = doHTTPRequest(monetDataProvider.backupLocation)
          .then(function(backupMonetAssets) {
            log('info', 'backup.json loaded:', backupMonetAssets);
            monet.logEvent('BACKUP_ASSETS_LOADED');
            backupMonetAssets = JSON.parse(backupMonetAssets);
            backupMonetAssets.isBackupData = true;
            var processedAssets = processAssets(monetDataProvider, backupMonetAssets);
            return Promise.resolve(processedAssets);
          })
          .catch(function(error) {
            return Promise.reject(error);
          });
      }
      return monetDataProvider.backupAssetsPromise;
    }

    function MonetDataProvider(monetLoader, backupLocation) {
      this.backupLocation = backupLocation || 'backup.json';
      this.monetLoader = monetLoader;

      this.dataLoadPromise = null;
      this.dataLoadFinished = false;
      this.loadedData = null;

      this.primaryAssetsPromise = null;
      this.backupAssetsPromise = null;

      this.dataTransformers = [];
    }

    MonetDataProvider.prototype.loadData = function() {
      var monetLoader = this.monetLoader;
      var monetDataProvider = this;

      if (!this.dataLoadPromise) {
        this.dataLoadPromise = monetLoader
          .getInitialized()
          .then(function(monet) {
            return loadPrimaryAssets(monetDataProvider, monet);
          })
          .then(null, function() {
            log('warn', 'Primary assets failed to load from Monet, trying backup at "' + monetDataProvider.backupLocation + '"');
            return monetLoader.getInitialized().then(function(monet) {
              return loadBackupAssets(monetDataProvider, monet);
            });
          })
          .then(
            function(data) {
              monetDataProvider.dataLoadFinished = true;
              Monet.setDynamicAssets(data)
              return (monetDataProvider.loadedData = data);
            },
            function(error) {
              log('error', 'Backup assets failed to load!');
              log('error', '"backup.json" can be obtained from C2.0 Manifest Manager.');
              monetDataProvider.dataLoadFinished = true;
              return Promise.reject(error);
            }
          );
      }
      return this.dataLoadPromise;
    };

    MonetDataProvider.prototype.isDataLoaded = function() {
      return this.dataLoadFinished;
    };

    MonetDataProvider.prototype.getDataWhenLoaded = function() {
      return this.dataLoadPromise.then(function(data) {
        return data;
      });
    };

    MonetDataProvider.prototype.getBackupData = function() {
      var monetDataProvider = this;

      return this.monetLoader.getInitialized().then(function(monet) {
        return loadBackupAssets(monetDataProvider, monet).then(function(backupAssets) {
          return backupAssets;
        });
      });
    };

    MonetDataProvider.prototype.addDataTransformer = function(dataTransformer) {
      this.dataTransformers.push(dataTransformer);
    };

    return MonetDataProvider;
  })();

  /**
   * Monet Integrator Web Component
   *
   *
   *
   */
  (function() {
    var registeredComponents = [];
    var readyComponents = [];

    function verifyReady(mi, component) {
      if (mi.hasAttribute('ready')) {
        return;
      }
      if (component) {
        var index = registeredComponents.indexOf(component);
        if (index > -1) {
          readyComponents = readyComponents.concat(registeredComponents.splice(index, 1));
        }
      }
      if (!registeredComponents.length) {
        if (!readyComponents.length) {
          log('warn', 'No Monet components registered!');
        }
        log('info', 'Monet environment is ready.');
        mi.setAttribute('ready', '');
        fireEvent(mi, 'ready');
      }
    }

    function fireEvent(mi, eventName) {
      var event = new CustomEvent(eventName, {
        bubbles: true,
        cancelable: true
      });
      mi.dispatchEvent(event);
    }

    var proto = Object.create(HTMLElement.prototype, {
      pendingLogs: {
        value: [],
        enumerable: false
      },

      createdCallback: {
        value: function() {
          this.monetLoader = null;
          this.monetDataProvider = null;
        },
        enumerable: true
      },

      attachedCallback: {
        value: function() {
          if (this._attached) return;
          this._attached = true;
          var component = this;

          this.monetLoader = new MonetLoader();
          this.monetLoader.getInitialized().then(function(monet) {
            if (component.pendingLogs.length === 0) {
              return;
            }
            var pendingLogs = component.pendingLogs.slice();
            component.pendingLogs.length = 0;
            monet.logEvents(pendingLogs);
          });

          this.monetDataProvider = new MonetDataProvider(this.monetLoader, this.getAttribute('backup-json-path'));
          this.monetDataProvider
            .loadData()
            .then(function() {
              log('info', 'Listening for Monet components...');
              setTimeout(function() {
                verifyReady(component);
              }, 3000);
            })
            .catch(function(error) {
              fireEvent(component, 'error');
            });
        },
        enumerable: true
      },

      attributeChangedCallback: {
        value: function(attributeName) {},
        enumerable: true
      },

      isDataLoaded: {
        value: function() {
          return !!this.monetDataProvider && this.monetDataProvider.isDataLoaded();
        }
      },

      getMonetData: {
        value: function() {
          return this.monetDataProvider.getDataWhenLoaded();
        }
      },

      getBackupMonetData: {
        value: function() {
          return this.monetDataProvider.getBackupData();
        }
      },

      addDataTransformer: {
        value: function(transformer) {
          return this.monetDataProvider.addDataTransformer(transformer);
        }
      },

      getExitElementId: {
        value: function() {
          return this.getAttribute('exit-element-id');
        }
      },

      logEvent: {
        value: function(eventType, eventData) {
          if (!this.monetLoader) {
            // TODO (shashank): Capture timing parameters here
            this.pendingLogs.push({
              eventType: eventType,
              eventData: eventData
            });
            return;
          }
          this.monetLoader.getInitialized().then(
            function(monet) {
              monet.logEvent(eventType, eventData);
            },
            function(error) {
              log('error', 'Failed to log Monet event', error, eventType, eventData);
            }
          );
        }
      },

      register: {
        value: function(component) {
          component.addEventListener(
            'ready',
            function(event) {
              log(
                'info',
                'Monet component <' + event.target.tagName.toLowerCase() + ' id="' + event.target.id + '" /> is ready.'
              );
              verifyReady(this, event.target);
            }.bind(this)
          );
          registeredComponents.push(component);
        }
      },

      preview: {
        value: function() {
          return false;
        }
      }
    });

    document.registerElement('monet-integrator', { prototype: proto });
  })();
})();
/**
 *  monet-events.js
 *
 *  This script is intended for Google Web Designer implementations, however it can work with JS frameworks.
 *
 *  It connects click events to Monet's Exit_URL from a default GWD Tap Area component & the Netflix CTA.
 *
 *  For JS integrations, you should set `exit-element-id` on MonetIntegrator to reference
 *  an element that serves as your click-through button. It should dispatch a 'click' event.
 *
 */
(function() {
  'use strict';

  var monetIntegrator;
  var ctaButtons;
  var exitURL;
  var adWrapper;
  var tapArea;
  var videoElements;

  window.addEventListener('MonetAdReady', function() {
    queryDOM();
    if (monetIntegrator) {
      addExitEvents();
      if (monetIntegrator.hasAttribute('ready')) {
        parseMonetData();
      } else {
        monetIntegrator.addEventListener('ready', parseMonetData);
      }
    }
  });

  function queryDOM() {
    monetIntegrator = document.querySelector('monet-integrator');
    videoElements = document.getElementsByTagName('netflix-video');
    ctaButtons = document.getElementsByTagName('netflix-cta');
    adWrapper = document.querySelector('.gwd-page-content');
  }

  function parseMonetData() {
    monetIntegrator
      .getMonetData()
      .then(function(data) {
        exitURL = data.rootAssets['url.Exit_URL'].url;
      })
      .catch(function(e) {
        console.error('Error loading data', e);
      });
  }

  function addExitEvents() {
    // !!!! this is checking for a Tap Area button and sets it up to exit !!!!
    var defaultTapAreaId = monetIntegrator.getExitElementId() || 'gwd-taparea_1';
    tapArea = document.getElementById(defaultTapAreaId);
    if (tapArea) {
      tapArea.addEventListener('click', onBannerButtonClick, true);
    } else {
      console.error(
        'No exit element was found with id: "' +
          defaultTapAreaId +
          '". This can be defined on MonetIntegrator "exit-element-id". It should correspond with an element that dispatches a "click" event.'
      );
    }

    // !!! this is checking for any cta-buttons and assigning the click events to them !!!!
    if (ctaButtons) {
      for (var i = 0; i < ctaButtons.length; i++) {
        var button = ctaButtons[i].querySelector('.button');
        button.addEventListener('click', onCtaButtonClick, true);
      }
    }
  }

  function onBannerButtonClick(e) {
    exitBanner('banner_button');
  }

  function onCtaButtonClick() {
    exitBanner('cta_button');
  }

  function exitBanner(eventSource) {
    logMonetEvent('CLICK', { src: eventSource });
    pauseVideos();
    if (exitURL) {
      Enabler.exitOverride('exit_banner', exitURL);
      logMonetEvent('AD_EXIT', { url: exitURL });
    } else {
      Enabler.exit('clickTag');
      logMonetEvent('AD_EXIT', { url: 'Exit via ad platform' });
    }
  }

  function pauseVideos() {
    for (var i = 0; i < videoElements.length; i++) {
      var video = videoElements[i];
      if (video) video.pause();
    }
  }

  function logMonetEvent(eventType, eventData) {
    if (monetIntegrator) {
      monetIntegrator.logEvent(eventType, eventData);
    }
  }

  var domReady = new CustomEvent('MonetAdReady');
  if (/comp|inter|loaded/.test(document.readyState)) {
    window.dispatchEvent(domReady);
  } else {
    document.addEventListener('DOMContentLoaded', function() {
      window.dispatchEvent(domReady);
    });
  }
})();
// Test implementation - wc-monet-integrator
if (typeof module === 'undefined') {
  module = {};
}
module.exports = {
  "id": "67e5c648-28f4-41c4-b2e4-c12fbbc10825",
  "name": "wc-monet-integrator",
  "description": "Component to tie ad units to monet data integration",
  "type": "web_components",
  "context": "Default",
  "state": "published",
  "updated": 1546889615494,
  "full_name": "NetflixAdsEng/wc-monet-integrator",
  "html_url": "https://github.com/NetflixAdsEng/wc-monet-integrator",
  "username": "GitHub",
  "version": "5.1.0",
  "minimum": "3.0.0"
};

		</script>
  </head>

  <body>
    <script>
      var component = document.createElement("monet-integrator");
      component.preview();
      document.body.appendChild(component);
    </script>
  </body>
</html>
