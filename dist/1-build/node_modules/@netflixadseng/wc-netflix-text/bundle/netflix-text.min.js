"undefined"==typeof module&&(module={}),module.exports={id:"43232d9b-3b05-4471-9dfe-d0f9815c0e0a",name:"wc-netflix-text",description:"A simple text component to allow dynamic binding",type:"web_components",context:"Default",state:"published",updated:1544729396093,full_name:"NetflixAdsEng/wc-netflix-text",html_url:"https://github.com/NetflixAdsEng/wc-netflix-text",username:"GitHub",version:"4.1.0",minimum:"3.0.0"},function(){function safeBRReplace(t){var e=document.createDocumentFragment();return e.textContent=t.replace(/<br\s*\/?>/gm,"\n"),e.textContent.replace(/\n/gm,"<br>")}if(document.registerElement){var COMPONENT_NAME="netflix-text",component=Object.create(HTMLElement.prototype,{createdCallback:{value:function(){var t=document.createElement("span");this.appendChild(t),this._attached=!1,this._hasInited=!1}},detachedCallback:{value:function(){this._attached=!1}},attachedCallback:{value:function(){if(this._attached=!0,!this._hasInited){this._hasInited=!0;var dom=this,textSpan=this.children[0],MonetComponent=document.querySelector("monet-integrator");MonetComponent?(MonetComponent.register(this),MonetComponent.getMonetData().then(function(data){var bindSrc=dom.getAttribute("data-dynamic-key");1==bindSrc.split(".").length&&(bindSrc='rootAssets["text.'+bindSrc+'"].text');try{var dynamicText=eval("data."+bindSrc);dynamicText&&(textSpan.innerHTML=safeBRReplace(dynamicText),textSpan.classList.add(Monet.getComponentLocale("text."+dom.getAttribute("data-dynamic-key")).substr(0,2))),dom.dispatchEvent(new CustomEvent("ready"))}catch(e){console.error("Monet dynamic ID not found in JSON: ",bindSrc,"trying backup"),MonetComponent.getBackupMonetData().then(function(backupData){if(backupData){var dynamicText=eval("backupData."+bindSrc);textSpan.innerHTML=safeBRReplace(dynamicText),textSpan.classList.add(Monet.getComponentLocale("text."+dom.getAttribute("data-dynamic-key")).substr(0,2))}dom.dispatchEvent(new CustomEvent("ready"))},function(t){console.error("Failed to load backup Monet data",t)})}})):console.warn('No "monet-integrator" component found. Dynamic binding is disabled')}}},preview:{value:function(){this.children[0].innerHTML="This is a preview of the text component.",this.style.height="40px",this.style.display="inline-block"}}});document.createElement(COMPONENT_NAME).constructor.__proto__!==window.HTMLElement&&document.registerElement(COMPONENT_NAME,{prototype:component})}}();