# Netflix Fonts Component

Locale-specific font loading component. Uses [fontfaceobserver-es](https://github.com/dmnsgn/fontfaceobserver) to determine load complete.

**_NOTE!! ES6/Webpack Users_**

The `fontfaceobserver-es` package exports its ESM file on the `module` property: [package.json](https://github.com/dmnsgn/fontfaceobserver/blob/master/package.json#L16-L18). However, Webpack will try to resolve imports in this order `browser`, `main`, then `module`. If Webpack can't locate `fontfaceobserver-es.umd.js`, please consider adding:

```javascript
resolve: {
	mainFields: ['module', 'main', 'browser']
}
```

More info [here](https://webpack.js.org/configuration/resolve/#resolve-mainfields).

## Summary

When this component is added to the DOM, css classes will be defined for different languages and fonts. The @font-face definitions that are then loaded depend on the Container's current locale.

The Container developer should specify `font-weight`.

Most fonts have 3 weights: `light`, `normal`, and `bold`. `normal` is loaded by default, unless specifically marked false. Some fonts do not have all weights, in which case a request for that weight may result in a fail event.

## Interface

### Attributes

##### Font

The font required for Netflix ads is determined automatically.

##### Weight

The weight can be specified. Only load weights that you are using, as font files can be heavy (100k+).

- _light_ : Optional boolean. If set `true`, a `light` version of the current locale's font will attempt to be loaded.
- _normal_ : Optional boolean. A `normal` weight font for the current locale loads by default. If explicitly set `false`, this will prevent the container from loading `normal` weight. This may be useful if trying to save k-weight.
- _bold_ : Optional boolean. If set `true`, a `bold` version of the current locale's font will attempt to be loaded.

If a particular weight fails to load, the component will fallback to the next font defined for the requested locale & attempt to load the weight again. If all fallbacks fail to load a requested weight, the `fail` event will be dispatched.

##### Locales

Fonts for different regions are determined automatically. The following attribute will _*override*_ that function.

- _locale_ : Optional two-letter (like, `en` or `he`) indication of locale. This is automatically determined based on the Container's locale. _*Warning*: Setting this attribute will *override* Monet!_

### Methods

### Events

- _ready_ : Fonts have been loaded for each requested locale / weight, and text components are ready to render.
- _fail_ : This component will attempt to load each requested weight, for each utilized locale. If any weight fails to load, it will fallback to the next face (same weight) defined for the locale. Some fonts only have one definition. Either way, if the list of fallbacks all fail for a particular locale / weight, this event will be dispatched.

## How to use

#### GWD

- Import netflix-fonts.zip to the Components panel in the GWD UI.
- Drag and drop the Netflix Fonts Component anywhere in your creative area.
- Select the component on stage and navigate to the `Properties` panel. You should see the options to specify attributes.

### ES6 & Webpack

- Use like any other web component with the interface as specified above.
