!function(){var COMPONENT_NAME="netflix-cta",PREFIX="mm-component",TRANSITION_EASING=".4s cubic-bezier(0.19, 1, 0.22, 1)",ARROW_PADDING_TO_WIDTH=.04,LAYOUT_ATTRIBUTE_LIST=["width","height","font","font-size","min-font-size","max-width","stretch-direction","arrow"];function stretchStrToPercent(t){if(!t||"left"===t)return 0;if("center"===t)return.5;if("right"===t)return 1;if(t.indexOf("%")===t.length-1){var e=parseFloat(t);if(!isNaN(e))return e/100}return 0}function parsePaddingAttr(t){if("number"==typeof t)return t+"px";var e=parseFloat(t);return!isNaN(e)&&/^(\d|\.)+$/.test(t)?e+"px":t}function horizontalPadding(t){var e=window.getComputedStyle(t,null);return parseInt(e.getPropertyValue("padding-left"),10)+parseInt(e.getPropertyValue("padding-right"),10)}function innerWidth(t){var e=window.getComputedStyle(t,null);return t.clientWidth-parseInt(e.getPropertyValue("padding-left"),10)-parseInt(e.getPropertyValue("padding-right"),10)}function innerHeight(t){var e=window.getComputedStyle(t,null);return t.clientHeight-parseInt(e.getPropertyValue("padding-top"),10)-parseInt(e.getPropertyValue("padding-bottom"),10)}function style(){var t="uc-"+(1e6*Math.random()).toFixed(0),e=this.getAttribute("horizontal-pad"),i=this.getAttribute("vertical-pad"),o=parsePaddingAttr(e)||"4%",r=parsePaddingAttr(i)||"2%";Utils.createStyle.call(this,COMPONENT_NAME+"."+t,".button","will-change: transform;cursor: pointer;overflow: hidden;text-align: center;font-size:"+this.data.size+"px; font-family: "+this.data.font,"*","box-sizing: border-box;",".button .fill","will-change: transform;width:100%;height:100%;transform-origin:top left;-webkit-transform-origin:top left;transform: scale(0, 1);-webkit-transform: scale(0, 1); transition: transform "+TRANSITION_EASING+";",".button .arrow","will-change: transform;position:absolute;text-align: right;top:50%;left:auto;right:auto;width:100%;font-size:160% !important;-webkit-transform: translate(0%, -50%);transform: translate(0%, -50%);",".button .arrow svg","position:absolute;right:"+100*ARROW_PADDING_TO_WIDTH+"%;left:auto;top:0;",".button .copy","will-change: transform;transform-origin: 0 0;letter-spacing:1.1px;padding-top:"+r+";padding-bottom:"+r+";padding-left:"+o+";padding-right:"+o+";transition: color "+TRANSITION_EASING+";color:"+this.data.color[1],".button .border","-webkit-box-sizing: border-box;box-sizing: border-box;position: absolute;top: 0;left: 0;width:100%;height:100%;border:solid "+this.borderSize+"px "+this.data.color[0],"div","position: absolute;top: 0;left: 0;"),Utils.isMobile||Utils.createStyle.call(this,COMPONENT_NAME+"."+t,".button:hover .bgImageHover","width:100% !important;",".button.hover .bgImageHover","width:100% !important;",".button:hover .fill","transform: scale(1, 1); -webkit-transform: scale(1, 1);",".button.hover .fill","transform: scale(1, 1); -webkit-transform: scale(1, 1);",".button:hover .arrow","color:"+this.data.color[0],".button.hover .arrow","color:"+this.data.color[0],".button:hover .copy","color:"+this.data.color[0],".button.hover .copy","color:"+this.data.color[0],".button.isArrow:hover .copy","color:"+this.data.color[0]),this.className+=" "+PREFIX+" "+t,this.style.position="absolute",this.button.style.backgroundColor=this.data.color[0],this.fill.style.backgroundColor=this.data.color[1]}var component=Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this._attached=!1,this._hasInited=!1,this._resizeQueued=!1,this.button=document.createElement("div"),this.button.className="button",this.fill=document.createElement("div"),this.fill.className="fill",this.copy=document.createElement("div"),this.copy.className="copy",this.arrow=document.createElement("div"),this.arrow.className="arrow",this.border=document.createElement("div"),this.border.className="border"},enumerable:!0},detachedCallback:{value:function(){this._attached=!1}},attachedCallback:{value:function(){if(this._attached=!0,this._hasInited)this._resizeQueued&&this.resize();else{this._hasInited=!0,this.data={},this.data.color=[this.getAttribute("color-1")||"#e50914",this.getAttribute("color-2")||"#ffffff"],this.data.size=parseInt(this.getAttribute("font-size"),10)||12,this.data.minSize=parseInt(this.getAttribute("min-font-size"),10)||8,this.data.font=(this.getAttribute("font")||"Netflix Sans")+", Arial, sans-serif",this.data.text=this.getAttribute("text");var bgImg=this.getAttribute("background-image");if(bgImg){this.bgImgContainer=document.createElement("div"),this.bgImgContainer.className="bgImage";var img=new Image;img.src=bgImg,this.bgImgContainer.appendChild(img),this.button.appendChild(this.bgImgContainer),this.bgImgContainer.setAttribute("style","position: absolute; top:0;left:0;")}this.appendChild(this.button),this.button.appendChild(this.fill);var bgImgHover=this.getAttribute("background-image-hover");if(bgImgHover){this.bgImgContainerHover=document.createElement("div"),this.bgImgContainerHover.className="bgImageHover";var imgHover=new Image;imgHover.src=bgImgHover,this.bgImgContainerHover.appendChild(imgHover),this.button.appendChild(this.bgImgContainerHover),this.bgImgContainerHover.setAttribute("style","position: absolute; top:0;left:0;width:0%;overflow:hidden;height:"+this.height+"px; transition: width "+TRANSITION_EASING+";"),this.fill.setAttribute("style","display:none;")}this.button.appendChild(this.copy),this.hasArrow=this._hasTruthyAttribute("arrow"),this.hasBorder=this.hasAttribute("border-size"),this.borderSize=this.getAttribute("border-size")||1,this.hasArrow&&(this.button.appendChild(this.arrow),this.button.className+=" isArrow"),this.hasBorder&&this.button.appendChild(this.border),style.call(this),this.button.addEventListener("click",function(){this.click&&this.click();var t=document.createEvent("CustomEvent");t.initCustomEvent("cta-click",!0,!0,"Netflix CTA Click"),this.dispatchEvent(t)}.bind(this)),this.button.addEventListener("mouseover",function(t){this.mouseover.call(this)}.bind(this)),this.button.addEventListener("mouseout",function(t){this.mouseout.call(this)}.bind(this));var cta="WATCH NOW",MonetComponent=document.querySelector("monet-integrator");MonetComponent?(MonetComponent.register(this),MonetComponent.getMonetData().then(function(data){var key=this.getAttribute("data-dynamic-key")||"CTA",d=key;1===d.split(".").length&&(d='rootAssets["text.'+d+'"].text');try{cta=eval("data."+d);var locale=Monet.getComponentLocale("text."+key).substr(0,2);this.copy.classList.add(locale),"ar"!=locale&&"he"!=locale||this.setAttribute("rtl",!0),this.text(cta),this.dispatchEvent(new CustomEvent("ready"))}catch(e){Monet.logEvent("MONET_DATA_ERROR",{details:"Netflix CTA Component error; Could not find data in rootAssets: text."+d,stack:e}),MonetComponent.getBackupMonetData().then(function(backupData){var ld=d;1===d.split(".").length&&(d='rootAssets["text.'+d+'"].text'),cta=eval("backupData."+d);var locale=Monet.getComponentLocale("text."+key).substr(0,2);this.copy.classList.add(locale),"ar"!=locale&&"he"!=locale||this.setAttribute("rtl",!0),this.text(cta),this.dispatchEvent(new CustomEvent("ready"))}.bind(this),function(t){Monet.logEvent("MONET_DATA_ERROR",{details:"Failed to load backup Monet data",stack:t})})}}.bind(this),function(t){Monet.logEvent("MONET_DATA_ERROR",{details:"Failed to load backup Monet data",stack:t})})):this.text(cta)}},enumerable:!0},attributeChangedCallback:{value:function(t,e,i){this._attached&&0<=LAYOUT_ATTRIBUTE_LIST.indexOf(t)&&e!==i&&this.resize()},enumerable:!0},text:{value:function(t){var e=t||this.copy.innerHTML;this.copy.innerHTML=e,this.resize()}},_hasTruthyAttribute:{value:function(t){return this.hasAttribute(t)&&"false"!==this.getAttribute(t).toString()}},resize:{value:function(t,e,i){if(i=i||{},this._attached){this._resizeQueued=!1,this.rtl=this._hasTruthyAttribute("rtl"),this.rtl?(TweenMax.set(this.copy,{css:{right:0,left:"auto"}}),this.arrow.setAttribute("style","position:absolute;text-align: left;top:50%;left:auto;right:auto;width:100%;font-size:160% !important;-webkit-transform: scale(-1,1) translate(0%, -50%);transform: scale(-1,1) translate(0%, -50%);")):(TweenMax.set(this.copy,{css:{right:"auto",left:0}}),this.arrow.setAttribute("style","position:absolute;text-align: right;top:50%;left:auto;right:auto;width:100%;font-size:160% !important;-webkit-transform: translate(0%, -50%);transform: translate(0%, -50%);"));var o=parseInt(this.getAttribute("width"),10),r=parseInt(this.getAttribute("max-width"),10)||140;o=isNaN(o)?null:o;var s=t||o||this.offsetWidth||109,n=e||this.getAttribute("height")||this.offsetHeight||28;if(s=Math.min(s,r),this.copy.style.width=this.button.style.width=this.style.width=s+"px",this.copy.style.height=this.button.style.height=this.style.height=n+"px",this.copy.style.whiteSpace=i.tryingMultiLine?"normal":"nowrap",this.height=n,this._attached){this.arrow.innerHTML="";var a=Math.floor(this.height/3.3);TweenMax.set(this.arrow,{height:a});var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("width",a+"px"),l.setAttribute("height",a+"px"),l.line=new Utils.SvgIcon("line1","M0,0 l"+a/2+","+a/2+"l-"+a/2+","+a/2),l.line.setAttribute("fill","none"),l.line.setAttribute("stroke",this.data.color[1]||0),l.line.setAttribute("stroke-width",2),l.appendChild(l.line),this.arrow.appendChild(l)}var h=ARROW_PADDING_TO_WIDTH*s;this.hasArrow&&(this.copy.style.width=s-(h+a)+"px"),Utils.textFit(this.copy,{detectMultiLine:!0,multiLine:i.tryingMultiLine,alignHoriz:!0,alignVert:!0,minFontSize:this.data.minSize,maxFontSize:this.data.size}),this._multiLine=!!i.tryingMultiLine;var d=this._hasTruthyAttribute("no-multiline");if(i.stopRetrying||i.tryingStretch&&i.tryingMultiLine||i.tryingStretch&&!i.tryingMultiLine&&d)this._applyCopyFixes();else{var u=this.copy.querySelector("span"),c=u.style.position,g=u.style.display;u.style.position="static",u.style.display="inline";var p=u.offsetWidth;u.style.position=c,u.style.display=g;var b=u.offsetHeight,m=p-innerWidth(this.copy),f=b-innerHeight(this.copy);getComputedStyle(this.copy).fontSize;if(0<m||0<f)if(i.tryingStretch)i.tryingMultiLine||this.resize(i.originalWidth,null,{originalWidth:i.originalWidth,tryingStretch:!1,tryingMultiLine:!0});else{var y=m+horizontalPadding(this.copy),v=s+y,A=0<f?r:Math.min(r,v);this.resize(A,null,{originalWidth:s,tryingStretch:!0,tryingMultiLine:i.tryingMultiLine});var w=stretchStrToPercent(this.getAttribute("stretch-origin"));0<w&&TweenMax.set(this,{x:"-="+y*w})}else this._applyCopyFixes()}}else this._resizeQueued=!0}},mouseover:{value:function(){Utils.isMobile||this.button.classList.add("hover"),this.arrow.querySelector("svg").line.setAttribute("stroke",this.data.color[0])}},mouseout:{value:function(){Utils.isMobile||this.button.classList.remove("hover"),this.arrow.querySelector("svg").line.setAttribute("stroke",this.data.color[1])}},preview:{value:function(){this.setAttribute("arrow",""),this.setAttribute("border-size",""),this.setAttribute("size",12)}},_applyCopyFixes:{value:function(){var t=this.getAttribute("copy-x-fix"),e=this.getAttribute("copy-y-fix"),i=parseFloat(t),o=parseFloat(e),r=this._hasTruthyAttribute("y-fix-on-multiLine");(i||o)&&TweenMax.set(this.copy,{x:t?"+="+i:0,y:!e||this._multiLine&&!r?0:"+="+o})}}});component.observedAttributes=LAYOUT_ATTRIBUTE_LIST,document.createElement(COMPONENT_NAME).constructor.__proto__!==window.HTMLElement&&document.registerElement(COMPONENT_NAME,{prototype:component})}(),"undefined"==typeof module&&(module={}),module.exports={id:"74ac09b5-4f74-4b37-b4d1-7955ed4994fb",name:"wc-netflix-cta",description:"CTA button",type:"web_components",context:"Default",state:"published",updated:1544728889095,full_name:"NetflixAdsEng/wc-netflix-cta",html_url:"https://github.com/NetflixAdsEng/wc-netflix-cta",username:"GitHub",version:"5.0.0",minimum:"3.0.0"};